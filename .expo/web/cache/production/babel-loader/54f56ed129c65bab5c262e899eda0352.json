{"ast":null,"code":"import _regeneratorRuntime from\"@babel/runtime/regenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _extends from\"@babel/runtime/helpers/extends\";import React,{Component,useEffect}from'react';import Alert from\"react-native-web/dist/exports/Alert\";import Animated from\"react-native-web/dist/exports/Animated\";import Easing from\"react-native-web/dist/exports/Easing\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import View from\"react-native-web/dist/exports/View\";import{useSafeArea}from'react-native-safe-area-context';import Banner from\"../components/GameOver/Banner\";import Footer from\"../components/GameOver/Footer\";import AudioManager from\"../src/AudioManager\";import Characters from\"../src/Characters\";import useDimensions from\"../src/hooks/useDimensions\";import Images from\"../src/Images\";function getTitle(){var sayings=[\"That's an OSHA violation\",\"Next time look both ways\",\"Did not have a spotter, better luck next time\",\"Slow and steady wins the race\"];var random=Math.floor(Math.random()*sayings.length);console.log(random);return sayings[random];}var banner=[{color:'#3640eb',title:getTitle()}];function GameOver(_ref){var props=_extends({},_ref);var _useDimensions=useDimensions(),width=_useDimensions.window.width;var _React$useState=React.useState(0),_React$useState2=_slicedToArray(_React$useState,2),currentIndex=_React$useState2[0],setCurrentIndex=_React$useState2[1];var _React$useState3=React.useState(Object.keys(Characters).map(function(val){return Characters[val];})),_React$useState4=_slicedToArray(_React$useState3,2),characters=_React$useState4[0],setCharacters=_React$useState4[1];var _React$useState5=React.useState(banner.map(function(val){return new Animated.Value(0);})),_React$useState6=_slicedToArray(_React$useState5,2),animations=_React$useState6[0],setAnimations=_React$useState6[1];var dismiss=function dismiss(){props.onRestart();};var pickRandom=function pickRandom(){var randomIndex=Math.floor(Math.random()*(characters.length-1));var randomCharacter=characters[randomIndex];dismiss();};React.useEffect(function(){setTimeout(function(){_animateBanners();var playBannerSound=function playBannerSound(){return _regeneratorRuntime.async(function playBannerSound$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regeneratorRuntime.awrap(AudioManager.playAsync(AudioManager.sounds.banner));case 2:case\"end\":return _context.stop();}}});};playBannerSound();setTimeout(function(){return playBannerSound();},300);setTimeout(function(){return playBannerSound();},600);},600);});var _animateBanners=function _animateBanners(){var _animations=animations.map(function(animation){return Animated.timing(animation,{toValue:1,duration:1000,easing:Easing.elastic()});});Animated.stagger(300,_animations).start();};var _showResult=function _showResult(result){};var select=function select(){dismiss();};var _useSafeArea=useSafeArea(),top=_useSafeArea.top,bottom=_useSafeArea.bottom,left=_useSafeArea.left,right=_useSafeArea.right;var imageStyle={width:60,height:48};return React.createElement(View,{style:[styles.container,{paddingTop:top||12,paddingBottom:bottom||8},props.style]},React.createElement(View,{key:\"content\",style:{flex:1,justifyContent:'center'}},banner.map(function(val,index){return React.createElement(Banner,{animatedValue:animations[index].interpolate({inputRange:[0.2,1],outputRange:[-width,0],extrapolate:'clamp'}),key:index,style:{backgroundColor:val.color,transform:[{scaleY:animations[index].interpolate({inputRange:[0,0.2],outputRange:[0,1],extrapolate:'clamp'})}]},title:getTitle(),button:val.button});})),React.createElement(Footer,{style:{paddingLeft:left||4,paddingRight:right||4},showSettings:props.showSettings,setGameState:props.setGameState,navigation:props.navigation}));}export default GameOver;var styles=StyleSheet.create({container:{flex:1,justifyContent:'center',backgroundColor:'transparent'},paragraph:{margin:24,fontSize:18,fontWeight:'bold',textAlign:'center',color:'#34495e'}});","map":{"version":3,"sources":["/Users/gabew/Codelation-Projects/gabe-wilber.github.io/screens/GameOverScreen.js"],"names":["React","Component","useEffect","useSafeArea","Banner","Footer","AudioManager","Characters","useDimensions","Images","getTitle","sayings","random","Math","floor","length","console","log","banner","color","title","GameOver","props","width","window","useState","currentIndex","setCurrentIndex","Object","keys","map","val","characters","setCharacters","Animated","Value","animations","setAnimations","dismiss","onRestart","pickRandom","randomIndex","randomCharacter","setTimeout","_animateBanners","playBannerSound","playAsync","sounds","_animations","animation","timing","toValue","duration","easing","Easing","elastic","stagger","start","_showResult","result","select","top","bottom","left","right","imageStyle","height","styles","container","paddingTop","paddingBottom","style","flex","justifyContent","index","interpolate","inputRange","outputRange","extrapolate","backgroundColor","transform","scaleY","button","paddingLeft","paddingRight","showSettings","setGameState","navigation","StyleSheet","create","paragraph","margin","fontSize","fontWeight","textAlign"],"mappings":"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","sourcesContent":["import React, { Component, useEffect } from 'react';\nimport { Alert, Animated, Easing, StyleSheet, View } from 'react-native';\nimport { useSafeArea } from 'react-native-safe-area-context';\n\nimport Banner from '../components/GameOver/Banner';\nimport Footer from '../components/GameOver/Footer';\nimport AudioManager from '../src/AudioManager';\nimport Characters from '../src/Characters';\nimport useDimensions from '../src/hooks/useDimensions';\nimport Images from '../src/Images';\n\n// import { setGameState } from '../src/actions/game';\n\n\nfunction getTitle() {\n  const sayings = [\n    \"That's an OSHA violation\",\n    \"Next time look both ways\",\n    \"Did not have a spotter, better luck next time\",\n    \"Slow and steady wins the race\"\n];\nvar random = Math.floor(Math.random() * sayings.length);\nconsole.log(random)\nreturn sayings[random];\n}\n\n//TODO: Make this dynamic\nconst banner = [\n  {\n    color: '#3640eb',\n    title: getTitle(),\n  },\n];\n\n// const AnimatedBanner = Animated.createAnimatedComponent(Banner);\n\nfunction GameOver({ ...props }) {\n\n  const { window: { width } } = useDimensions();\n  const [currentIndex, setCurrentIndex] = React.useState(0);\n  const [characters, setCharacters] = React.useState(Object.keys(Characters).map(val => Characters[val]));\n  const [animations, setAnimations] = React.useState(banner.map(val => new Animated.Value(0)));\n\n  const dismiss = () => {\n    // props.navigation.goBack();\n    props.onRestart();\n  };\n\n  const pickRandom = () => {\n    const randomIndex = Math.floor(Math.random() * (characters.length - 1));\n    const randomCharacter = characters[randomIndex];\n    // props.setCharacter(randomCharacter);\n    dismiss();\n  };\n\n  React.useEffect(() => {\n    setTimeout(() => {\n      _animateBanners();\n\n      const playBannerSound = async () => {\n        await AudioManager.playAsync(AudioManager.sounds.banner);\n        // const soundObject = new Audio.Sound();\n        // try {\n        //   await soundObject.loadAsync(AudioFiles.banner);\n        //   await soundObject.playAsync();\n        // } catch (error) {\n        //   console.warn('sound error', { error });\n        // }\n      };\n      playBannerSound();\n      setTimeout(() => playBannerSound(), 300);\n      setTimeout(() => playBannerSound(), 600);\n    }, 600);\n  })\n\n  const _animateBanners = () => {\n    const _animations = animations.map(animation =>\n      Animated.timing(animation, {\n        toValue: 1,\n        duration: 1000,\n        easing: Easing.elastic(),\n      }),\n    );\n    Animated.stagger(300, _animations).start();\n  };\n\n  const _showResult = result => {\n    // if (result.action === Share.sharedAction) {\n    //   if (result.activityType) {\n    //     this.setState({result: 'shared with an activityType: ' + result.activityType});\n    //   } else {\n    //     this.setState({result: 'shared'});\n    //   }\n    // } else if (result.action === Share.dismissedAction) {\n    //   this.setState({result: 'dismissed'});\n    // }\n  };\n\n  const select = () => {\n\n    // props.setCharacter(characters[currentIndex]);\n    dismiss();\n  };\n\n  const { top, bottom, left, right } = useSafeArea();\n\n  const imageStyle = { width: 60, height: 48 };\n\n  return (\n    <View style={[styles.container, { paddingTop: top || 12, paddingBottom: bottom || 8 }, props.style]}>\n      <View key=\"content\" style={{ flex: 1, justifyContent: 'center' }}>\n        {banner.map((val, index) => (\n          <Banner\n            animatedValue={animations[index].interpolate({\n              inputRange: [0.2, 1],\n              outputRange: [-width, 0],\n              extrapolate: 'clamp',\n            })}\n            key={index}\n            style={{\n              backgroundColor: val.color,\n              transform: [\n                {\n                  scaleY: animations[index].interpolate({\n                    inputRange: [0, 0.2],\n                    outputRange: [0, 1],\n                    extrapolate: 'clamp',\n                  }),\n                },\n              ],\n            }}\n            title={getTitle()}\n            button={val.button}\n          />\n        ))}\n      </View>\n\n      <Footer\n        style={{ paddingLeft: left || 4, paddingRight: right || 4 }}\n        showSettings={props.showSettings}\n        setGameState={props.setGameState}\n        navigation={props.navigation}\n      />\n    </View>\n  );\n}\n\nexport default GameOver;\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    backgroundColor: 'transparent',\n  },\n  paragraph: {\n    margin: 24,\n    fontSize: 18,\n    fontWeight: 'bold',\n    textAlign: 'center',\n    color: '#34495e',\n  },\n});\n"]},"metadata":{},"sourceType":"module"}