{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _inherits from\"@babel/runtime/helpers/inherits\";import{Bounce,Power2,TweenMax}from'gsap';import{MeshPhongMaterial,DoubleSide,Mesh,PlaneBufferGeometry,Object3D}from'three';var size=0.6;var material=new MeshPhongMaterial({color:0xffffff,flatShading:true,side:DoubleSide});var geometry=new PlaneBufferGeometry(size,size,1);var Foam=function(_Object3D){_inherits(Foam,_Object3D);function Foam(direction){var _this;_classCallCheck(this,Foam);_this=_possibleConstructorReturn(this,_getPrototypeOf(Foam).call(this));_this.parts=[];_this.run=function(type,direction){var rand=function rand(_ref){var _ref$min=_ref.min,min=_ref$min===void 0?0:_ref$min,_ref$max=_ref.max,max=_ref$max===void 0?1:_ref$max;return Math.random()*(max-min)+min;};var scale=function scale(_scale,node,duration){var delay=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;return TweenMax.to(node.scale,duration,{x:_scale,y:_scale,z:_scale,delay:delay});};var setup=function setup(n,i){n.position.set(rand({min:-0.1,max:0.1}),0,0.6/_this.parts.length*i+0.2);n.visible=true;var minScale=0.01;n.scale.set(minScale,minScale,minScale);n.rotation.y=Math.random()*0.6-0.3;};var animate=function animate(n,i){var mScale=1;var mDuration=0.4;var lDuration=1.2;var totalDuration=mDuration+lDuration;var startDelay=totalDuration*0.2*i;TweenMax.to(n.scale,mDuration,{x:mScale,y:mScale,z:mScale,delay:startDelay,ease:Bounce.easeOut,onComplete:function onComplete(_){var lScale=0.01;TweenLite.to(n.scale,lDuration,{x:lScale,y:lScale,z:lScale,ease:Power2.easeIn});TweenMax.to(n.position,lDuration,{x:n.position.x+rand({min:0.2,max:1.0})*_this.direction,onComplete:function onComplete(){return runAnimation(n,i);}});}});};var runAnimation=function runAnimation(n,i){setup(n,i);animate(n,i);};for(var i=0;i<_this.parts.length;i++){var p=_this.parts[i];runAnimation(p,i);}};_this.direction=direction;for(var i=0;i<6;i++){var particle=new Mesh(geometry,material);particle.rotation.x=Math.PI/2;particle.position.set(0,0,0);_this.parts.push(particle);_this.add(particle);}return _this;}return Foam;}(Object3D);export{Foam as default};","map":{"version":3,"sources":["/Users/gabew/Codelation-Projects/gabe-wilber.github.io/src/Particles/Foam.js"],"names":["Bounce","Power2","TweenMax","MeshPhongMaterial","DoubleSide","Mesh","PlaneBufferGeometry","Object3D","size","material","color","flatShading","side","geometry","Foam","direction","parts","run","type","rand","min","max","Math","random","scale","node","duration","delay","to","x","y","z","setup","n","i","position","set","length","visible","minScale","rotation","animate","mScale","mDuration","lDuration","totalDuration","startDelay","ease","easeOut","onComplete","_","lScale","TweenLite","easeIn","runAnimation","p","particle","PI","push","add"],"mappings":"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","sourcesContent":["import { Bounce, Power2, TweenMax } from 'gsap';\nimport { MeshPhongMaterial, DoubleSide, Mesh, PlaneBufferGeometry, Object3D } from 'three';\n\nconst size = 0.6;\n\nconst material = new MeshPhongMaterial({\n  color: 0xffffff,\n  flatShading: true,\n  side: DoubleSide,\n});\nconst geometry = new PlaneBufferGeometry(size, size, 1);\n\nexport default class Foam extends Object3D {\n  parts = [];\n\n  constructor(direction) {\n    super();\n    this.direction = direction;\n\n    for (let i = 0; i < 6; i++) {\n      const particle = new Mesh(geometry, material);\n      particle.rotation.x = Math.PI / 2;\n      particle.position.set(0, 0, 0);\n      this.parts.push(particle);\n      this.add(particle);\n    }\n  }\n\n  run = (type, direction) => {\n    const rand = ({ min = 0, max = 1 }) => Math.random() * (max - min) + min;\n\n    const scale = (scale, node, duration, delay = 0) =>\n      TweenMax.to(node.scale, duration, {\n        x: scale,\n        y: scale,\n        z: scale,\n        delay,\n        // ease: Bounce.easeOut,\n      });\n\n    const setup = (n, i) => {\n      n.position.set(\n        rand({ min: -0.1, max: 0.1 }),\n        0,\n        (0.6 / this.parts.length) * i + 0.2,\n      );\n      n.visible = true;\n\n      const minScale = 0.01;\n      n.scale.set(minScale, minScale, minScale);\n      n.rotation.y = Math.random() * 0.6 - 0.3;\n    };\n\n    const animate = (n, i) => {\n      const mScale = 1;\n      const mDuration = 0.4;\n      const lDuration = 1.2;\n      const totalDuration = mDuration + lDuration;\n\n      /// Every other particle starts mid way through the first particles animation.\n      const startDelay = totalDuration * 0.2 * i;\n      TweenMax.to(n.scale, mDuration, {\n        x: mScale,\n        y: mScale,\n        z: mScale,\n        delay: startDelay,\n        ease: Bounce.easeOut,\n        onComplete: _ => {\n          const lScale = 0.01;\n          TweenLite.to(n.scale, lDuration, {\n            x: lScale,\n            y: lScale,\n            z: lScale,\n            ease: Power2.easeIn,\n          });\n\n          TweenMax.to(n.position, lDuration, {\n            x: n.position.x + rand({ min: 0.2, max: 1.0 }) * this.direction,\n            onComplete: () => runAnimation(n, i),\n          });\n        },\n      });\n    };\n\n    const runAnimation = (n, i) => {\n      setup(n, i);\n      animate(n, i);\n    };\n\n    for (let i = 0; i < this.parts.length; i++) {\n      let p = this.parts[i];\n      runAnimation(p, i);\n    }\n  };\n}\n"]},"metadata":{},"sourceType":"module"}