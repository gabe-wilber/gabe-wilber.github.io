{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _regeneratorRuntime from\"@babel/runtime/regenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import{loadAsync}from'expo-font';import React from'react';import Image from\"react-native-web/dist/exports/Image\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import{SafeAreaProvider}from'react-native-safe-area-context';import{AppearanceProvider}from'react-native-appearance';import GameProvider from\"./context/GameProvider\";import GameScreen from\"./screens/GameScreen\";import AudioManager from\"./src/AudioManager\";import ModelLoader from\"./src/ModelLoader\";console.ignoredYellowBox=['WebGL','THREE.WebGLRenderer','THREE.WebGLProgram'];var DEBUG_DONT_LOAD_ASSETS=false;export default function App(){return React.createElement(AppearanceProvider,null,React.createElement(SafeAreaProvider,null,React.createElement(GameProvider,null,React.createElement(AppLoading,null))));}function AppLoading(){var _React$useState=React.useState(DEBUG_DONT_LOAD_ASSETS),_React$useState2=_slicedToArray(_React$useState,2),appIsReady=_React$useState2[0],setReady=_React$useState2[1];var _React$useState3=React.useState(null),_React$useState4=_slicedToArray(_React$useState3,2),error=_React$useState4[0],setError=_React$useState4[1];React.useEffect(function(){if(DEBUG_DONT_LOAD_ASSETS){return;}(function _callee(){var message;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return _regeneratorRuntime.awrap(Promise.all([AudioManager.setupAsync(),loadAsync({retro:require(\"./assets/fonts/retro.ttf\")})]));case 3:_context.next=9;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);message=_context.t0.message;console.error('App: Error loading assets: '+message);case 9:_context.prev=9;_context.next=12;return _regeneratorRuntime.awrap(ModelLoader.loadModels());case 12:_context.next=14;return _regeneratorRuntime.awrap(new Promise(function(resolve){return setTimeout(resolve,7000);}));case 14:setReady(true);_context.next=21;break;case 17:_context.prev=17;_context.t1=_context[\"catch\"](9);console.error(_context.t1);setError(_context.t1);case 21:case\"end\":return _context.stop();}}},null,null,[[0,5],[9,17]]);})();},[]);if(DEBUG_DONT_LOAD_ASSETS){return React.createElement(GameScreen,null);}if(error){return React.createElement(ErrorScreen,{message:error.message,stack:error.stack});}if(appIsReady){return React.createElement(GameScreen,null);}return React.createElement(SplashScreen,null);}var ErrorScreen=function ErrorScreen(_ref2){var message=_ref2.message,stack=_ref2.stack;return React.createElement(View,{style:styles.errorContainer},React.createElement(ScrollView,{style:styles.error,contentContainerStyle:{}},React.createElement(Text,{style:styles.errorTitle},\"This is a fatal error \\uD83D\\uDC4B \"),React.createElement(Text,{style:styles.errorText},message),stack&&React.createElement(Text,{style:[styles.errorText,{fontSize:12,opacity:0.8,marginTop:4}]},stack)));};var SplashScreen=function SplashScreen(){return React.createElement(Image,{style:styles.splash,source:require(\"./assets/icons/loading.png\")});};var styles=StyleSheet.create({splash:{backgroundColor:'#2C2C2C',flex:1,resizeMode:'contain'},errorContainer:_objectSpread({},StyleSheet.absoluteFillObject,{flex:1,backgroundColor:'black',justifyContent:\"center\",alignItems:\"center\"}),error:{maxWidth:300,maxHeight:'50%',borderRadius:8,paddingVertical:16,paddingHorizontal:24,backgroundColor:'#9e0000'},errorTitle:{fontSize:30,color:'white',fontWeight:'bold',borderBottomWidth:StyleSheet.hairlineWidth,borderBottomColor:'rgba(0,0,0,0.1)'},errorText:{fontSize:24,color:'white'}});","map":{"version":3,"sources":["/Users/gabew/Codelation-Projects/gabe-wilber.github.io/App.js"],"names":["loadAsync","React","SafeAreaProvider","AppearanceProvider","GameProvider","GameScreen","AudioManager","ModelLoader","console","ignoredYellowBox","DEBUG_DONT_LOAD_ASSETS","App","AppLoading","useState","appIsReady","setReady","error","setError","useEffect","Promise","all","setupAsync","retro","require","message","loadModels","resolve","setTimeout","stack","ErrorScreen","styles","errorContainer","errorTitle","errorText","fontSize","opacity","marginTop","SplashScreen","splash","StyleSheet","create","backgroundColor","flex","resizeMode","absoluteFillObject","justifyContent","alignItems","maxWidth","maxHeight","borderRadius","paddingVertical","paddingHorizontal","color","fontWeight","borderBottomWidth","hairlineWidth","borderBottomColor"],"mappings":"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","sourcesContent":["import { loadAsync } from 'expo-font';\nimport React from 'react';\nimport { Image, ScrollView, StyleSheet, Text, View } from 'react-native';\nimport { SafeAreaProvider } from 'react-native-safe-area-context';\nimport { AppearanceProvider } from 'react-native-appearance';\nimport GameProvider from './context/GameProvider';\n\nimport GameScreen from './screens/GameScreen';\nimport AudioManager from './src/AudioManager';\nimport ModelLoader from './src/ModelLoader';\n\nconsole.ignoredYellowBox = [\n  'WebGL',\n  'THREE.WebGLRenderer',\n  'THREE.WebGLProgram',\n];\n\nconst DEBUG_DONT_LOAD_ASSETS = false;\n\nexport default function App() {\n  return (<AppearanceProvider><SafeAreaProvider><GameProvider><AppLoading /></GameProvider></SafeAreaProvider></AppearanceProvider>)\n}\n\nfunction AppLoading() {\n  const [appIsReady, setReady] = React.useState(DEBUG_DONT_LOAD_ASSETS);\n  const [error, setError] = React.useState(null);\n\n  React.useEffect(() => {\n    if (DEBUG_DONT_LOAD_ASSETS) {\n      return;\n    }\n    (async () => {\n      // Test error screen\n      // setError(new Error('testing screen'));\n      try {\n        await Promise.all([\n          AudioManager.setupAsync(),\n          loadAsync({ retro: require('./assets/fonts/retro.ttf') }),\n        ]);\n      } catch ({ message }) {\n        console.error('App: Error loading assets: ' + message);\n      }\n      try {\n        await ModelLoader.loadModels();\n        await new Promise(resolve => setTimeout(resolve, 7000));\n        setReady(true);\n      } catch (e) {\n        console.error(e);\n        setError(e);\n      }\n    })();\n  }, []);\n\n  if (DEBUG_DONT_LOAD_ASSETS) {\n    return <GameScreen />;\n  }\n\n  if (error) {\n    return (\n      <ErrorScreen message={error.message} stack={error.stack} />\n    );\n  }\n  if (appIsReady) {\n    return <GameScreen />;\n  }\n\n  return (<SplashScreen />);\n}\n\nconst ErrorScreen = ({ message, stack }) => (\n  <View style={styles.errorContainer}>\n    <ScrollView style={styles.error} contentContainerStyle={{}}>\n      <Text style={styles.errorTitle}>This is a fatal error ðŸ‘‹ </Text>\n      <Text style={styles.errorText}>{message}</Text>\n      {stack && <Text style={[styles.errorText, { fontSize: 12, opacity: 0.8, marginTop: 4 }]}>{stack}</Text>}\n    </ScrollView>\n  </View>\n)\n\nconst SplashScreen = () => (\n  <Image\n    style={styles.splash}\n    source={require('./assets/icons/loading.png')}\n  />\n)\n\nconst styles = StyleSheet.create({\n  splash: {\n    backgroundColor: '#2C2C2C', flex: 1, resizeMode: 'contain'\n  },\n  errorContainer: {\n    ...StyleSheet.absoluteFillObject,\n    flex: 1, backgroundColor: 'black', justifyContent: \"center\", alignItems: \"center\",\n  },\n  error: {\n    maxWidth: 300,\n    maxHeight: '50%',\n    borderRadius: 8,\n    paddingVertical: 16,\n    paddingHorizontal: 24,\n    backgroundColor: '#9e0000',\n  },\n  errorTitle: {\n    fontSize: 30, color: 'white', fontWeight: 'bold',\n    borderBottomWidth: StyleSheet.hairlineWidth,\n    borderBottomColor: 'rgba(0,0,0,0.1)'\n  },\n  errorText: {\n    fontSize: 24, color: 'white'\n  }\n})"]},"metadata":{},"sourceType":"module"}