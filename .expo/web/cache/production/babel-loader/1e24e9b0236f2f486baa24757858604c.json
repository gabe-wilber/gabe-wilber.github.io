{"ast":null,"code":"import _regeneratorRuntime from\"@babel/runtime/regenerator\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _inherits from\"@babel/runtime/helpers/inherits\";import THREE from\"./Three\";import loadAsync from\"./loadAsync\";import parseAssetCallback from\"./loaders/parseAssetCallback\";var CubeTexture=function(_THREE$CubeTexture){_inherits(CubeTexture,_THREE$CubeTexture);function CubeTexture(){var _this;_classCallCheck(this,CubeTexture);_this=_possibleConstructorReturn(this,_getPrototypeOf(CubeTexture).apply(this,arguments));_this.loadAsync=function _callee(options){var nextDirections,_iterator,_isArray,_i,_ref,_direction,asset,texture;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:nextDirections=options.directions||CubeTexture.format.coord_s;_iterator=nextDirections,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[typeof Symbol===\"function\"?typeof Symbol===\"function\"?Symbol.iterator:\"@@iterator\":\"@@iterator\"]();case 2:if(!_isArray){_context.next=8;break;}if(!(_i>=_iterator.length)){_context.next=5;break;}return _context.abrupt(\"break\",22);case 5:_ref=_iterator[_i++];_context.next=12;break;case 8:_i=_iterator.next();if(!_i.done){_context.next=11;break;}return _context.abrupt(\"break\",22);case 11:_ref=_i.value;case 12:_direction=_ref;_context.next=15;return _regeneratorRuntime.awrap(parseAssetCallback(_direction,options.assetForDirection));case 15:asset=_context.sent;_context.next=18;return _regeneratorRuntime.awrap(loadAsync(asset));case 18:texture=_context.sent;_this.images.push(texture);case 20:_context.next=2;break;case 22:_this.needsUpdate=true;case 23:case\"end\":return _context.stop();}}});};return _this;}return CubeTexture;}(THREE.CubeTexture);export{CubeTexture as default};CubeTexture.format={direct_s:['lf','rt','up','dn','ft','bk'],coord_s:['px','nx','py','ny','pz','nz'],coord_m:['xpos','xneg','ypos','yneg','zpos','zneg']};","map":{"version":3,"sources":["../src/CubeTexture.ts"],"names":[],"mappings":"kVAAA,MAAO,CAAA,KAAP,eACA,MAAO,CAAA,SAAP,mBACA,MAAO,CAAA,kBAAP,oC,GAKqB,CAAA,W,wEAArB,sBAAA,6C,0FAME,MAAA,SAAA,CAAY,iBAAO,OAAP,0LAIJ,cAJI,CAIa,OAAO,CAAC,UAAR,EAAsB,WAAW,CAAC,MAAZ,CAAmB,OAJtD,WAMY,cANZ,weAMD,UANC,wDAOY,kBAAkB,CACpC,UADoC,CAEpC,OAAO,CAAC,iBAF4B,CAP9B,UAOF,KAPE,iEAWc,SAAS,CAAC,KAAD,CAXvB,UAWF,OAXE,eAYR,MAAK,MAAL,CAAY,IAAZ,CAAiB,OAAjB,EAZQ,sCAcV,MAAK,WAAL,CAAmB,IAAnB,CAdU,+CAAZ,CANF,aAsBC,C,qBAtBwC,KAAK,CAAC,W,SAA1B,W,aACZ,WAAA,CAAA,MAAA,CAAS,CACd,QAAQ,CAAE,CAAC,IAAD,CAAO,IAAP,CAAa,IAAb,CAAmB,IAAnB,CAAyB,IAAzB,CAA+B,IAA/B,CADI,CAEd,OAAO,CAAE,CAAC,IAAD,CAAO,IAAP,CAAa,IAAb,CAAmB,IAAnB,CAAyB,IAAzB,CAA+B,IAA/B,CAFK,CAGd,OAAO,CAAE,CAAC,MAAD,CAAS,MAAT,CAAiB,MAAjB,CAAyB,MAAzB,CAAiC,MAAjC,CAAyC,MAAzC,CAHK,CAAT","sourcesContent":["import THREE from './Three';\nimport loadAsync from './loadAsync';\nimport parseAssetCallback from './loaders/parseAssetCallback';\n\ntype AnyFunction = (...args: any[]) => any;\ntype AnyObject = { [key: string]: any };\ntype ObjectOrFunction = AnyObject | AnyFunction;\nexport default class CubeTexture extends THREE.CubeTexture {\n  static format = {\n    direct_s: ['lf', 'rt', 'up', 'dn', 'ft', 'bk'],\n    coord_s: ['px', 'nx', 'py', 'ny', 'pz', 'nz'],\n    coord_m: ['xpos', 'xneg', 'ypos', 'yneg', 'zpos', 'zneg'],\n  };\n  loadAsync = async (options: {\n    assetForDirection: ObjectOrFunction;\n    directions?: string[];\n  }) => {\n    const nextDirections = options.directions || CubeTexture.format.coord_s;\n\n    for (let direction of nextDirections) {\n      const asset = await parseAssetCallback(\n        direction,\n        options.assetForDirection\n      );\n      const texture = await loadAsync(asset);\n      this.images.push(texture);\n    }\n    this.needsUpdate = true;\n  };\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}