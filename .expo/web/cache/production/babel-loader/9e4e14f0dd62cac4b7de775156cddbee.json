{"ast":null,"code":"'use strict';import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _extends from\"@babel/runtime/helpers/extends\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _inherits from\"@babel/runtime/helpers/inherits\";import React,{Component}from'react';import PanResponder from\"react-native-web/dist/exports/PanResponder\";import View from\"react-native-web/dist/exports/View\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import TouchableWithoutFeedback from\"react-native-web/dist/exports/TouchableWithoutFeedback\";import{findDOMNode}from'react-dom';var getElement=function getElement(component){try{return findDOMNode(component);}catch(e){return component;}};export var swipeDirections={SWIPE_UP:'SWIPE_UP',SWIPE_DOWN:'SWIPE_DOWN',SWIPE_LEFT:'SWIPE_LEFT',SWIPE_RIGHT:'SWIPE_RIGHT'};var swipeConfig={velocityThreshold:0.3,directionalOffsetThreshold:80};export var keyMap={Space:'SWIPE_UP',ArrowUp:'SWIPE_UP',KeyW:'SWIPE_UP',ArrowDown:'SWIPE_DOWN',KeyS:'SWIPE_DOWN',ArrowLeft:'SWIPE_LEFT',KeyA:'SWIPE_LEFT',ArrowRight:'SWIPE_RIGHT',KeyD:'SWIPE_RIGHT'};function isValidSwipe(velocity,velocityThreshold,directionalOffset,directionalOffsetThreshold){return Math.abs(velocity)>velocityThreshold&&Math.abs(directionalOffset)<directionalOffsetThreshold;}var freezeBody=function freezeBody(e){e.preventDefault();};var GestureView=function(_Component){_inherits(GestureView,_Component);function GestureView(props,context){var _this;_classCallCheck(this,GestureView);_this=_possibleConstructorReturn(this,_getPrototypeOf(GestureView).call(this,props,context));_this.onKeyDown=function(e){var direction=keyMap[e.code];if(direction){_this.props.onResponderGrant();}};_this.onKeyUp=function(e){var direction=keyMap[e.code];if(direction){_this.props.onSwipe(direction);}};_this._handleShouldSetPanResponder=function(evt,gestureState){evt.preventDefault();return evt.nativeEvent.touches.length===1;};_this._gestureIsClick=function(gestureState){return Math.abs(gestureState.dx)<5&&Math.abs(gestureState.dy)<5;};_this._handlePanResponderEnd=function(evt,gestureState){evt.preventDefault();var swipeDirection=_this._getSwipeDirection(gestureState);_this._triggerSwipeHandlers(swipeDirection,gestureState);};_this._triggerSwipeHandlers=function(swipeDirection,gestureState){var _this$props=_this.props,onSwipe=_this$props.onSwipe,onSwipeUp=_this$props.onSwipeUp,onSwipeDown=_this$props.onSwipeDown,onSwipeLeft=_this$props.onSwipeLeft,onSwipeRight=_this$props.onSwipeRight,onTap=_this$props.onTap;var SWIPE_LEFT=swipeDirections.SWIPE_LEFT,SWIPE_RIGHT=swipeDirections.SWIPE_RIGHT,SWIPE_UP=swipeDirections.SWIPE_UP,SWIPE_DOWN=swipeDirections.SWIPE_DOWN;onSwipe&&onSwipe(swipeDirection,gestureState);switch(swipeDirection){case SWIPE_LEFT:onSwipeLeft&&onSwipeLeft(gestureState);break;case SWIPE_RIGHT:onSwipeRight&&onSwipeRight(gestureState);break;case SWIPE_UP:onSwipeUp&&onSwipeUp(gestureState);break;case SWIPE_DOWN:onSwipeDown&&onSwipeDown(gestureState);break;default:onTap&&onTap(gestureState);break;}};_this._getSwipeDirection=function(gestureState){var SWIPE_LEFT=swipeDirections.SWIPE_LEFT,SWIPE_RIGHT=swipeDirections.SWIPE_RIGHT,SWIPE_UP=swipeDirections.SWIPE_UP,SWIPE_DOWN=swipeDirections.SWIPE_DOWN;var dx=gestureState.dx,dy=gestureState.dy;if(_this._isValidHorizontalSwipe(gestureState)){return dx>0?SWIPE_RIGHT:SWIPE_LEFT;}else if(_this._isValidVerticalSwipe(gestureState)){return dy>0?SWIPE_DOWN:SWIPE_UP;}return null;};_this._isValidHorizontalSwipe=function(gestureState){var vx=gestureState.vx,dy=gestureState.dy;var _this$swipeConfig=_this.swipeConfig,velocityThreshold=_this$swipeConfig.velocityThreshold,directionalOffsetThreshold=_this$swipeConfig.directionalOffsetThreshold;return isValidSwipe(vx,velocityThreshold,dy,directionalOffsetThreshold);};_this._isValidVerticalSwipe=function(gestureState){var vy=gestureState.vy,dx=gestureState.dx;var _this$swipeConfig2=_this.swipeConfig,velocityThreshold=_this$swipeConfig2.velocityThreshold,directionalOffsetThreshold=_this$swipeConfig2.directionalOffsetThreshold;return isValidSwipe(vy,velocityThreshold,dx,directionalOffsetThreshold);};_this.touchStart=function(evt){console.log('touch start');_this.props.onResponderGrant();};_this.swipeConfig=_extends(swipeConfig,props.config);_this._panResponder=PanResponder.create({onPanResponderStart:function onPanResponderStart(){_this.props.onResponderGrant();},onStartShouldSetPanResponder:_this._handleShouldSetPanResponder,onMoveShouldSetPanResponder:_this._handleShouldSetPanResponder,onPanResponderRelease:_this._handlePanResponderEnd,onPanResponderTerminate:_this._handlePanResponderEnd});return _this;}_createClass(GestureView,[{key:\"componentDidMount\",value:function componentDidMount(){window.addEventListener('keydown',this.onKeyDown,false);window.addEventListener('keyup',this.onKeyUp,false);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){if(this.view){this.view.removeEventListener('touchstart',this.touchStart,false);this.view.removeEventListener('touchmove',freezeBody,false);}window.removeEventListener('keydown',this.onKeyDown);window.removeEventListener('keyup',this.onKeyUp);}},{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(props){this.swipeConfig=_extends(swipeConfig,props.config);}},{key:\"render\",value:function render(){var _this2=this;var _this$props2=this.props,style=_this$props2.style,props=_objectWithoutProperties(_this$props2,[\"style\"]);return React.createElement(View,_extends({style:[{flex:1,cursor:'pointer'},style],tabIndex:\"0\",ref:function ref(view){var nextView=getElement(view);if(nextView&&nextView.addEventListener){nextView.addEventListener('touchstart',_this2.touchStart,false);nextView.addEventListener('touchmove',freezeBody,false);}if(_this2.view&&_this2.view.removeEventListener){_this2.view.removeEventListener('touchstart',_this2.touchStart,false);_this2.view.removeEventListener('touchmove',freezeBody,false);}_this2.view=nextView;}},props,this._panResponder.panHandlers));}}]);return GestureView;}(Component);export default GestureView;","map":{"version":3,"sources":["/Users/gabew/Codelation-Projects/gabe-wilber.github.io/components/GestureView.js"],"names":["React","Component","findDOMNode","getElement","component","e","swipeDirections","SWIPE_UP","SWIPE_DOWN","SWIPE_LEFT","SWIPE_RIGHT","swipeConfig","velocityThreshold","directionalOffsetThreshold","keyMap","Space","ArrowUp","KeyW","ArrowDown","KeyS","ArrowLeft","KeyA","ArrowRight","KeyD","isValidSwipe","velocity","directionalOffset","Math","abs","freezeBody","preventDefault","GestureView","props","context","onKeyDown","direction","code","onResponderGrant","onKeyUp","onSwipe","_handleShouldSetPanResponder","evt","gestureState","nativeEvent","touches","length","_gestureIsClick","dx","dy","_handlePanResponderEnd","swipeDirection","_getSwipeDirection","_triggerSwipeHandlers","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onTap","_isValidHorizontalSwipe","_isValidVerticalSwipe","vx","vy","touchStart","console","log","config","_panResponder","PanResponder","create","onPanResponderStart","onStartShouldSetPanResponder","onMoveShouldSetPanResponder","onPanResponderRelease","onPanResponderTerminate","window","addEventListener","view","removeEventListener","style","flex","cursor","nextView","panHandlers"],"mappings":"AAAA,a,6dACA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,C,wRAEA,OAASC,WAAT,KAA4B,WAA5B,CAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAAAC,SAAS,CAAI,CAC9B,GAAI,CACF,MAAOF,CAAAA,WAAW,CAACE,SAAD,CAAlB,CACD,CAAC,MAAOC,CAAP,CAAU,CACV,MAAOD,CAAAA,SAAP,CACD,CACF,CAND,CAOA,MAAO,IAAME,CAAAA,eAAe,CAAG,CAC7BC,QAAQ,CAAE,UADmB,CAE7BC,UAAU,CAAE,YAFiB,CAG7BC,UAAU,CAAE,YAHiB,CAI7BC,WAAW,CAAE,aAJgB,CAAxB,CAOP,GAAMC,CAAAA,WAAW,CAAG,CAClBC,iBAAiB,CAAE,GADD,CAElBC,0BAA0B,CAAE,EAFV,CAApB,CAKA,MAAO,IAAMC,CAAAA,MAAM,CAAG,CACpBC,KAAK,CAAE,UADa,CAEpBC,OAAO,CAAE,UAFW,CAGpBC,IAAI,CAAE,UAHc,CAIpBC,SAAS,CAAE,YAJS,CAKpBC,IAAI,CAAE,YALc,CAMpBC,SAAS,CAAE,YANS,CAOpBC,IAAI,CAAE,YAPc,CAQpBC,UAAU,CAAE,aARQ,CASpBC,IAAI,CAAE,aATc,CAAf,CAYP,QAASC,CAAAA,YAAT,CACEC,QADF,CAEEb,iBAFF,CAGEc,iBAHF,CAIEb,0BAJF,CAKE,CACA,MACEc,CAAAA,IAAI,CAACC,GAAL,CAASH,QAAT,EAAqBb,iBAArB,EACAe,IAAI,CAACC,GAAL,CAASF,iBAAT,EAA8Bb,0BAFhC,CAID,CAED,GAAMgB,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAAAxB,CAAC,CAAI,CACtBA,CAAC,CAACyB,cAAF,GACD,CAFD,C,GAGMC,CAAAA,W,wDACJ,qBAAYC,KAAZ,CAAmBC,OAAnB,CAA4B,6CAC1B,6EAAMD,KAAN,CAAaC,OAAb,GAD0B,MA+B5BC,SA/B4B,CA+BhB,SAAA7B,CAAC,CAAI,CACf,GAAM8B,CAAAA,SAAS,CAAGrB,MAAM,CAACT,CAAC,CAAC+B,IAAH,CAAxB,CACA,GAAID,SAAJ,CAAe,CACb,MAAKH,KAAL,CAAWK,gBAAX,GACD,CACF,CApC2B,OAsC5BC,OAtC4B,CAsClB,SAAAjC,CAAC,CAAI,CACb,GAAM8B,CAAAA,SAAS,CAAGrB,MAAM,CAACT,CAAC,CAAC+B,IAAH,CAAxB,CACA,GAAID,SAAJ,CAAe,CACb,MAAKH,KAAL,CAAWO,OAAX,CAAmBJ,SAAnB,EACD,CACF,CA3C2B,OA6C5BK,4BA7C4B,CA6CG,SAACC,GAAD,CAAMC,YAAN,CAAuB,CACpDD,GAAG,CAACX,cAAJ,GACA,MAAOW,CAAAA,GAAG,CAACE,WAAJ,CAAgBC,OAAhB,CAAwBC,MAAxB,GAAmC,CAA1C,CACD,CAhD2B,OAkD5BC,eAlD4B,CAkDV,SAAAJ,YAAY,CAAI,CAChC,MAAOf,CAAAA,IAAI,CAACC,GAAL,CAASc,YAAY,CAACK,EAAtB,EAA4B,CAA5B,EAAiCpB,IAAI,CAACC,GAAL,CAASc,YAAY,CAACM,EAAtB,EAA4B,CAApE,CACD,CApD2B,OAsD5BC,sBAtD4B,CAsDH,SAACR,GAAD,CAAMC,YAAN,CAAuB,CAC9CD,GAAG,CAACX,cAAJ,GACA,GAAMoB,CAAAA,cAAc,CAAG,MAAKC,kBAAL,CAAwBT,YAAxB,CAAvB,CACA,MAAKU,qBAAL,CAA2BF,cAA3B,CAA2CR,YAA3C,EACD,CA1D2B,OA4D5BU,qBA5D4B,CA4DJ,SAACF,cAAD,CAAiBR,YAAjB,CAAkC,iBAQpD,MAAKV,KAR+C,CAEtDO,OAFsD,aAEtDA,OAFsD,CAGtDc,SAHsD,aAGtDA,SAHsD,CAItDC,WAJsD,aAItDA,WAJsD,CAKtDC,WALsD,aAKtDA,WALsD,CAMtDC,YANsD,aAMtDA,YANsD,CAOtDC,KAPsD,aAOtDA,KAPsD,IAShDhD,CAAAA,UATgD,CASEH,eATF,CAShDG,UATgD,CASpCC,WAToC,CASEJ,eATF,CASpCI,WAToC,CASvBH,QATuB,CASED,eATF,CASvBC,QATuB,CASbC,UATa,CASEF,eATF,CASbE,UATa,CAUxD+B,OAAO,EAAIA,OAAO,CAACW,cAAD,CAAiBR,YAAjB,CAAlB,CACA,OAAQQ,cAAR,EACE,IAAKzC,CAAAA,UAAL,CACE8C,WAAW,EAAIA,WAAW,CAACb,YAAD,CAA1B,CACA,MACF,IAAKhC,CAAAA,WAAL,CACE8C,YAAY,EAAIA,YAAY,CAACd,YAAD,CAA5B,CACA,MACF,IAAKnC,CAAAA,QAAL,CACE8C,SAAS,EAAIA,SAAS,CAACX,YAAD,CAAtB,CACA,MACF,IAAKlC,CAAAA,UAAL,CACE8C,WAAW,EAAIA,WAAW,CAACZ,YAAD,CAA1B,CACA,MACF,QACEe,KAAK,EAAIA,KAAK,CAACf,YAAD,CAAd,CACA,MAfJ,CAiBD,CAxF2B,OA0F5BS,kBA1F4B,CA0FP,SAAAT,YAAY,CAAI,IAC3BjC,CAAAA,UAD2B,CACuBH,eADvB,CAC3BG,UAD2B,CACfC,WADe,CACuBJ,eADvB,CACfI,WADe,CACFH,QADE,CACuBD,eADvB,CACFC,QADE,CACQC,UADR,CACuBF,eADvB,CACQE,UADR,IAE3BuC,CAAAA,EAF2B,CAEhBL,YAFgB,CAE3BK,EAF2B,CAEvBC,EAFuB,CAEhBN,YAFgB,CAEvBM,EAFuB,CAGnC,GAAI,MAAKU,uBAAL,CAA6BhB,YAA7B,CAAJ,CAAgD,CAC9C,MAAOK,CAAAA,EAAE,CAAG,CAAL,CAASrC,WAAT,CAAuBD,UAA9B,CACD,CAFD,IAEO,IAAI,MAAKkD,qBAAL,CAA2BjB,YAA3B,CAAJ,CAA8C,CACnD,MAAOM,CAAAA,EAAE,CAAG,CAAL,CAASxC,UAAT,CAAsBD,QAA7B,CACD,CACD,MAAO,KAAP,CACD,CAnG2B,OAqG5BmD,uBArG4B,CAqGF,SAAAhB,YAAY,CAAI,IAChCkB,CAAAA,EADgC,CACrBlB,YADqB,CAChCkB,EADgC,CAC5BZ,EAD4B,CACrBN,YADqB,CAC5BM,EAD4B,uBAEkB,MAAKrC,WAFvB,CAEhCC,iBAFgC,mBAEhCA,iBAFgC,CAEbC,0BAFa,mBAEbA,0BAFa,CAGxC,MAAOW,CAAAA,YAAY,CAACoC,EAAD,CAAKhD,iBAAL,CAAwBoC,EAAxB,CAA4BnC,0BAA5B,CAAnB,CACD,CAzG2B,OA2G5B8C,qBA3G4B,CA2GJ,SAAAjB,YAAY,CAAI,IAC9BmB,CAAAA,EAD8B,CACnBnB,YADmB,CAC9BmB,EAD8B,CAC1Bd,EAD0B,CACnBL,YADmB,CAC1BK,EAD0B,wBAEoB,MAAKpC,WAFzB,CAE9BC,iBAF8B,oBAE9BA,iBAF8B,CAEXC,0BAFW,oBAEXA,0BAFW,CAGtC,MAAOW,CAAAA,YAAY,CAACqC,EAAD,CAAKjD,iBAAL,CAAwBmC,EAAxB,CAA4BlC,0BAA5B,CAAnB,CACD,CA/G2B,OAiH5BiD,UAjH4B,CAiHf,SAACrB,GAAD,CAAS,CACpBsB,OAAO,CAACC,GAAR,CAAY,aAAZ,EAEA,MAAKhC,KAAL,CAAWK,gBAAX,GACD,CArH2B,CAE1B,MAAK1B,WAAL,CAAmB,SAAcA,WAAd,CAA2BqB,KAAK,CAACiC,MAAjC,CAAnB,CACA,MAAKC,aAAL,CAAqBC,YAAY,CAACC,MAAb,CAAoB,CACvCC,mBAAmB,CAAE,8BAAM,CACzB,MAAKrC,KAAL,CAAWK,gBAAX,GACD,CAHsC,CAIvCiC,4BAA4B,CAAE,MAAK9B,4BAJI,CAKvC+B,2BAA2B,CAAE,MAAK/B,4BALK,CAMvCgC,qBAAqB,CAAE,MAAKvB,sBANW,CAOvCwB,uBAAuB,CAAE,MAAKxB,sBAPS,CAApB,CAArB,CAH0B,aAY3B,C,qFAEmB,CAClByB,MAAM,CAACC,gBAAP,CAAwB,SAAxB,CAAmC,KAAKzC,SAAxC,CAAmD,KAAnD,EACAwC,MAAM,CAACC,gBAAP,CAAwB,OAAxB,CAAiC,KAAKrC,OAAtC,CAA+C,KAA/C,EACD,C,mEACsB,CACrB,GAAI,KAAKsC,IAAT,CAAe,CACb,KAAKA,IAAL,CAAUC,mBAAV,CAA8B,YAA9B,CAA4C,KAAKf,UAAjD,CAA6D,KAA7D,EACA,KAAKc,IAAL,CAAUC,mBAAV,CAA8B,WAA9B,CAA2ChD,UAA3C,CAAuD,KAAvD,EACD,CACD6C,MAAM,CAACG,mBAAP,CAA2B,SAA3B,CAAsC,KAAK3C,SAA3C,EACAwC,MAAM,CAACG,mBAAP,CAA2B,OAA3B,CAAoC,KAAKvC,OAAzC,EACD,C,4EAEyBN,K,CAAO,CAC/B,KAAKrB,WAAL,CAAmB,SAAcA,WAAd,CAA2BqB,KAAK,CAACiC,MAAjC,CAAnB,CACD,C,uCA0FQ,kCACqB,KAAKjC,KAD1B,CACC8C,KADD,cACCA,KADD,CACW9C,KADX,kDAGP,MACE,qBAAC,IAAD,WACE,KAAK,CAAE,CAAC,CAAE+C,IAAI,CAAE,CAAR,CAAWC,MAAM,CAAE,SAAnB,CAAD,CAAiCF,KAAjC,CADT,CAEE,QAAQ,CAAC,GAFX,CAGE,GAAG,CAAE,aAAAF,IAAI,CAAI,CACX,GAAMK,CAAAA,QAAQ,CAAG9E,UAAU,CAACyE,IAAD,CAA3B,CACA,GAAIK,QAAQ,EAAIA,QAAQ,CAACN,gBAAzB,CAA2C,CACzCM,QAAQ,CAACN,gBAAT,CAA0B,YAA1B,CAAwC,MAAI,CAACb,UAA7C,CAAyD,KAAzD,EACAmB,QAAQ,CAACN,gBAAT,CAA0B,WAA1B,CAAuC9C,UAAvC,CAAmD,KAAnD,EACD,CACD,GAAI,MAAI,CAAC+C,IAAL,EAAa,MAAI,CAACA,IAAL,CAAUC,mBAA3B,CAAgD,CAC9C,MAAI,CAACD,IAAL,CAAUC,mBAAV,CAA8B,YAA9B,CAA4C,MAAI,CAACf,UAAjD,CAA6D,KAA7D,EACA,MAAI,CAACc,IAAL,CAAUC,mBAAV,CAA8B,WAA9B,CAA2ChD,UAA3C,CAAuD,KAAvD,EACD,CACD,MAAI,CAAC+C,IAAL,CAAYK,QAAZ,CACD,CAdH,EAeMjD,KAfN,CAgBM,KAAKkC,aAAL,CAAmBgB,WAhBzB,EADF,CAoBD,C,yBA/IuBjF,S,EAkJ1B,cAAe8B,CAAAA,WAAf","sourcesContent":["'use strict';\nimport React, { Component } from 'react';\nimport { PanResponder, View, StyleSheet, TouchableWithoutFeedback } from 'react-native';\nimport { findDOMNode } from 'react-dom';\n\nconst getElement = component => {\n  try {\n    return findDOMNode(component);\n  } catch (e) {\n    return component;\n  }\n};\nexport const swipeDirections = {\n  SWIPE_UP: 'SWIPE_UP',\n  SWIPE_DOWN: 'SWIPE_DOWN',\n  SWIPE_LEFT: 'SWIPE_LEFT',\n  SWIPE_RIGHT: 'SWIPE_RIGHT',\n};\n\nconst swipeConfig = {\n  velocityThreshold: 0.3,\n  directionalOffsetThreshold: 80,\n};\n\nexport const keyMap = {\n  Space: 'SWIPE_UP',\n  ArrowUp: 'SWIPE_UP',\n  KeyW: 'SWIPE_UP',\n  ArrowDown: 'SWIPE_DOWN',\n  KeyS: 'SWIPE_DOWN',\n  ArrowLeft: 'SWIPE_LEFT',\n  KeyA: 'SWIPE_LEFT',\n  ArrowRight: 'SWIPE_RIGHT',\n  KeyD: 'SWIPE_RIGHT',\n};\n\nfunction isValidSwipe(\n  velocity,\n  velocityThreshold,\n  directionalOffset,\n  directionalOffsetThreshold,\n) {\n  return (\n    Math.abs(velocity) > velocityThreshold &&\n    Math.abs(directionalOffset) < directionalOffsetThreshold\n  );\n}\n\nconst freezeBody = e => {\n  e.preventDefault();\n};\nclass GestureView extends Component {\n  constructor(props, context) {\n    super(props, context);\n    this.swipeConfig = Object.assign(swipeConfig, props.config);\n    this._panResponder = PanResponder.create({\n      onPanResponderStart: () => {\n        this.props.onResponderGrant()\n      },\n      onStartShouldSetPanResponder: this._handleShouldSetPanResponder,\n      onMoveShouldSetPanResponder: this._handleShouldSetPanResponder,\n      onPanResponderRelease: this._handlePanResponderEnd,\n      onPanResponderTerminate: this._handlePanResponderEnd,\n    });\n  }\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.onKeyDown, false);\n    window.addEventListener('keyup', this.onKeyUp, false);\n  }\n  componentWillUnmount() {\n    if (this.view) {\n      this.view.removeEventListener('touchstart', this.touchStart, false);\n      this.view.removeEventListener('touchmove', freezeBody, false);\n    }\n    window.removeEventListener('keydown', this.onKeyDown);\n    window.removeEventListener('keyup', this.onKeyUp);\n  }\n\n  componentWillReceiveProps(props) {\n    this.swipeConfig = Object.assign(swipeConfig, props.config);\n  }\n\n  onKeyDown = e => {\n    const direction = keyMap[e.code];\n    if (direction) {\n      this.props.onResponderGrant();\n    }\n  };\n\n  onKeyUp = e => {\n    const direction = keyMap[e.code];\n    if (direction) {\n      this.props.onSwipe(direction);\n    }\n  };\n\n  _handleShouldSetPanResponder = (evt, gestureState) => {\n    evt.preventDefault();\n    return evt.nativeEvent.touches.length === 1;\n  };\n\n  _gestureIsClick = gestureState => {\n    return Math.abs(gestureState.dx) < 5 && Math.abs(gestureState.dy) < 5;\n  };\n\n  _handlePanResponderEnd = (evt, gestureState) => {\n    evt.preventDefault();\n    const swipeDirection = this._getSwipeDirection(gestureState);\n    this._triggerSwipeHandlers(swipeDirection, gestureState);\n  };\n\n  _triggerSwipeHandlers = (swipeDirection, gestureState) => {\n    const {\n      onSwipe,\n      onSwipeUp,\n      onSwipeDown,\n      onSwipeLeft,\n      onSwipeRight,\n      onTap,\n    } = this.props;\n    const { SWIPE_LEFT, SWIPE_RIGHT, SWIPE_UP, SWIPE_DOWN } = swipeDirections;\n    onSwipe && onSwipe(swipeDirection, gestureState);\n    switch (swipeDirection) {\n      case SWIPE_LEFT:\n        onSwipeLeft && onSwipeLeft(gestureState);\n        break;\n      case SWIPE_RIGHT:\n        onSwipeRight && onSwipeRight(gestureState);\n        break;\n      case SWIPE_UP:\n        onSwipeUp && onSwipeUp(gestureState);\n        break;\n      case SWIPE_DOWN:\n        onSwipeDown && onSwipeDown(gestureState);\n        break;\n      default:\n        onTap && onTap(gestureState);\n        break;\n    }\n  };\n\n  _getSwipeDirection = gestureState => {\n    const { SWIPE_LEFT, SWIPE_RIGHT, SWIPE_UP, SWIPE_DOWN } = swipeDirections;\n    const { dx, dy } = gestureState;\n    if (this._isValidHorizontalSwipe(gestureState)) {\n      return dx > 0 ? SWIPE_RIGHT : SWIPE_LEFT;\n    } else if (this._isValidVerticalSwipe(gestureState)) {\n      return dy > 0 ? SWIPE_DOWN : SWIPE_UP;\n    }\n    return null;\n  };\n\n  _isValidHorizontalSwipe = gestureState => {\n    const { vx, dy } = gestureState;\n    const { velocityThreshold, directionalOffsetThreshold } = this.swipeConfig;\n    return isValidSwipe(vx, velocityThreshold, dy, directionalOffsetThreshold);\n  };\n\n  _isValidVerticalSwipe = gestureState => {\n    const { vy, dx } = gestureState;\n    const { velocityThreshold, directionalOffsetThreshold } = this.swipeConfig;\n    return isValidSwipe(vy, velocityThreshold, dx, directionalOffsetThreshold);\n  };\n\n  touchStart = (evt) => {\n    console.log('touch start')\n    // evt.preventDefault();\n    this.props.onResponderGrant();\n  }\n\n  render() {\n    const { style, ...props } = this.props;\n\n    return (\n      <View\n        style={[{ flex: 1, cursor: 'pointer' }, style]}\n        tabIndex=\"0\"\n        ref={view => {\n          const nextView = getElement(view);\n          if (nextView && nextView.addEventListener) {\n            nextView.addEventListener('touchstart', this.touchStart, false);\n            nextView.addEventListener('touchmove', freezeBody, false);\n          }\n          if (this.view && this.view.removeEventListener) {\n            this.view.removeEventListener('touchstart', this.touchStart, false);\n            this.view.removeEventListener('touchmove', freezeBody, false);\n          }\n          this.view = nextView;\n        }}\n        {...props}\n        {...this._panResponder.panHandlers}\n      />\n    );\n  }\n}\n\nexport default GestureView;\n"]},"metadata":{},"sourceType":"module"}